# [红粟国际站](http://barter2023.qagou.com/)开发待完成事项及问题修复  

[红粟国际站地址]: http://barter2023.qagou.com/



---

*本文档将使用字母缩写与逻辑符号来代表相应待办事项及问题修复的参与者*。  

- **\$P  <=>  产品**  

- **\$B  <=>  后端**  

- **\$D  <=>  设计**  

- **\$F  <=>  前端**   

- **\&  <=>  与**  

- **\|  <=>  或**  

**例如**：

> <mark>**\$P \& \$B \& \$D \& \$F**</mark>  
>
> :arrow_up_small:代表需产品、后端、设计、前端**共同**参与完成  
>
> <mark>**\$P \| \$B \| \$D \| \$F**</mark>  
>
> :arrow_up_small:代表需产品、后端、设计、前端中的**任意一人**参与完成  

*tip：可使用文本编辑器（推荐使用Typora，也可直接在网页或PDF中按<kbd>ctrl</kbd> + <kbd>F</kbd>来查找）的查找功能来查询相关缩写来定位到自己需参与的任务。比如：我是前端开发，我只需在编辑器中查找（<kbd>ctrl</kbd> + <kbd>F</kbd>）**$F**即可定位到我负责的任务。*  

---

*本文档将以组件为单元来讨论问题，而使用组件来划分，本站可分为以下几部分：*  

> - 顶部导航  <=>  header  
> - banner栏  <=>  banner_*  
> - 页脚  <=>  footer  
> - 首页  <=>  home  
> - 首页详情  <=>  barter & cash  
> - 精选商品  <=>  store  
> - 商品详情  <=>  store_detail  
> - 伙伴/项目  <=>  partner  
> - 环保/消除饥饿  <=>  environmental  
> - 新闻/博客  <=>  news  
> - 文章详情  <=>  news_detail  
> - 关于我们  <=>  about  
> - 联系我们  <=>  contact  
> - 资料下载  <=>  database  

---

## 1. 顶部导航（`header`）   

### 1.1 样式问题  

#### 1.1.1 一般问题  

- [ ] 修复“**关于我们**”、“**联系我们**”、“**资料下载**”连接无法实现样式高亮的问题  [^1] <mark>**$F \& \$B**</mark>；  
- [ ] 修复“**菜单栏**”导航连接`hover`后字体颜色没有改变的问题 <mark>**$F**</mark>；  

#### 1.1.2 响应式问题   

- [ ] 修复切换语言后，因**不同语言**的文字占用空间不同，以至于在浏览器**视口宽度**改变时，**屏幕尺寸**尚未达到原先设定的**断点**，导航栏各项目就出现文字强制换行的情况，造成排版不美观的问题[^2] <mark>**$F**</mark>；  

### 1.2 行为问题  

- [ ] 修复切换语言后，默认跳转回首页的问题 <mark>**$F \& \$B**</mark>；  
- [ ] 修复在页面切换为除中文外的**其他语言**后，再次点击顶部导航的任意链接，页面会重置为**中文**的问题 <mark>**$F \& \$B**</mark>；  

## 2. banner栏（`banner_*`）[^3]  

*------主要需解决样式问题*  

- [ ] 是否解决 <mark>**\$P \& \$B \& \$D \& \$F**</mark>    

### 2.1 方案内容  

*banner图一般包含图像以及覆盖在其上方的文字，需处理**语言切换**及**视口宽度变化**问题，暂定以下两种方案：*  

1. <strong><a name="scheme-1" style="color: green; text-decoration:none">#</a></strong>图片设计方提供多套、多组图片，在用户切换语言后，程序直接切换对应语言的*banner*图；  
2. <strong><a name="scheme-2" style="color: green; text-decoration:none">#</a></strong>图片设计方仅提供一套图片，开发者将图上的文字通过程序写在页面上，用户切换语言后，由程序来更换文字；  

### 2.2 方案分析  

- 方案 **1** [^4]：  
  1. 需由图片设计方承担更多的工作；  
  2. 每个页面的*banner*在内容上都大致相同，**切换语言**或**视口宽度**改变后，因文字占用空间变化引起的排版问题可以通过制图工具相对轻松地解决；  
  3. 在字体类型以及排版方式上也可以更大胆，使*banner*整体更美观；  
- 方案 **2** [^5]:  
  1. 由于系统中缺乏某些字体，所以对开发者而言，需引用新的字体库来处理；  
  2. 而对于一些非常规的文字排版，需投入较大的开发成本来处理；  
  3. 需考虑响应式开发问题，当**视口宽度**改变时，要靠大量程序来调整文字**空间分布**以及**字体大小**；   
  4. 因需考虑开发成本，在设计方面存在更大的约束；  

### 2.3 方案对比  

|            \            | 工作负荷 | 维护速度 | 设计约束 | 主负责人 |
| :---------------------: | :------: | :------: | :------: | :------: |
| [方案 **1**](#scheme-1) |    小    |   较快   |    小    |  设计者  |
| [方案 **2**](#scheme-2) |    大    |    慢    |    大    |  开发者  |

## 3. 页脚（`footer`）  

### 3.1 内容问题  

- [ ] 是否解决 <mark>**\$P**</mark>  

链接区内容待定，现存内容仅供占位。  

### 3.2 样式问题  

- [ ] 是否解决 <mark>**\$P \& \$D \& \$F**</mark>  

关于页脚样式，需考虑**语言切换**以及**屏幕尺寸**这两个重要因素，它们均会引起**排版变化**，造成布局混乱，字体压缩等不美观问题。现有的响应式布局方案为**紧凑型布局**，即**充分利用**了屏幕空间，且确保了处于`360px~1920px`尺寸区间的**任何屏幕**都具有较好的布局效果。目前本站仅采用**紧凑型布局**方案实现了中文布局，且链接内容待定，后续还需根据既定内容进行调整。采用**紧凑型布局**的缺点是，要求开发者投入大量的精力，若出现内容更新，维护难度也极高。目前许多网站对页脚的响应式布局及多语言切换的处理是：舍弃部分屏幕尺寸下的美观性，来换取更高的开发效率以及可维护性，本文将此布局方案称为**松散式布局**。下表将对这两种布局方式的优劣进行对比。  

|       \        | 美观程度 | 维护速度 | 工作负荷 | 适配范围 | 空间利用 |
| :------------: | :------: | :------: | :------: | :------: | :------: |
| **紧凑式布局** |    高    |   很慢   |   很大   |    广    |    多    |
| **松散式布局** |   一般   |   较快   |   较小   | 一般[^6] |    少    |

## 4. 首页（`home`)  

### 4.1 样式问题  

#### 4.1.1 一般问题  

- [ ] 将**红色圆形波纹状**引导按钮由**静态**效果改为**动态**效果 <mark>**$F \& \$D**</mark>；  

#### 4.1.2 响应式问题  

- [ ] 是否解决  <mark>**\$P \& \$D \& \$F**</mark>  

目前，对于中小屏设备，本站采用**轮播**的方式来展示跳转至`barter`以及`cash`的两个重要链接。而这种做法的劣势也很明显，即用户很可能会忽略掉另一个链接（*轮播图尚未展示的链接*）。因需**同时**考虑**响应式开发**以及**多语言切换**问题，在**布局与排版**上存在诸多困难，暂时还未有更好的解决方案，有待讨论，可参考[**第2节**](#2.1 方案内容)提到的解决方案。  

### 4.2 行为问题

- [ ] 修复点击首页链接跳转至新页面后，**顶部导航**链接的高亮效果消失的问题[^7] <mark>**$F \& \$B**</mark>；  

## 5. `barter`&`cash`  

------*`barter`与`cash`这两个页面隶属于首页`home`，在布局结构上完全一致，仅内容不同，样式方面需修复少部分问题。*  

### 5.1 结构问题  

- [ ] 删除顶部*banner*（*设计图中不包含顶部banner*）<mark>**$F \& \$B**</mark>;  

### 5.2 样式问题  

- [ ] 是否解决 <mark>**\$P \& \$D \& \$F**</mark>  

在***PC*屏幕尺寸**下，最底部的图片在鼠标`hover`后会展示文字，但在**中小屏尺寸**，没有鼠标`hover`事件，需通过屏幕**点击图片**才会展示覆盖在图片上方的文字，这样一来，用户可能会错过这些**文字信息**。  

## 6. 精选商品（`store`）  

### 6.1 样式问题  

#### 6.1.1 一般问题  

- [ ] 进行防御式CSS编程，避免因语言切换或内容变化引起的排版混乱问题 <mark>**$F**</mark>；  
- [ ] 该页的顶部导航及页脚改为静态或**小范围**响应 <mark>**$F**</mark>；  

#### 6.1.2 响应式问题  

- [ ] 是否解决 <mark>**\$P \& \$D \& \$F**</mark>  

该页面需实现**三级联动**的查询功能，且部件较多，很难去做响应式设计，实际上，主流的电商网站如淘宝、京东的**PC端网页版**也只是做了**大屏幕**的响应式设计，仅仅对布局进行了细微的调整[^8]，而对于中小的屏幕尺寸，淘宝和京东的方案是，**另外设计一套移动端程序**，而不是在PC端程序的基础上做响应式调整。从前端的角度出发，在一套程序上做多端适配会存在较大的**约束**，尤其是移动端页面和PC端页面差别较大的情况下，更是需要处理大量的样式污染，甚至改变`HTML`结构与`js`程序。而独立设计一套移动端程序可以摆脱这种**约束**，大幅降低开发成本。  

### 6.2 功能问题  

- [ ] 实现三级查询功能 <mark>**$F \& \$B**</mark>；  
- [ ] 实现分页功能 <mark>**$F \& \$B**</mark>；  
- [ ] 实现点击banner区链接后跳转至正确的商品详情页的功能 <mark>**$F \& \$B**</mark>；  
- [ ] 实现点击商品列表的商品链接后跳转至正确的商品详情页的功能 <mark>**$F \& \$B**</mark>；    

### 6.3 内容问题

- [ ] 将静态数据填充为动态数据 <mark>**$F \& \$B**</mark>；  

## 7. 商品详情（`store_detail`）  

### 7.1 样式问题  

- [ ] 进行防御式CSS编程，避免因语言切换或内容变化引起的排版混乱问题 <mark>**$F**</mark>；  
- [ ] 该页的顶部导航及页脚改为静态或**小范围**响应 <mark>**$F**</mark>；  
- [ ] 参考[**6.1.2**](#6.1.2 响应式问题)中提到的响应式问题，是否解决？ <mark>**\$P \& \$D \& \$F**</mark>；  

### 7.2 功能问题   

- [ ] 实现选择商品属性功能 <mark>**$F \& \$B \& \$P**</mark>；  
- [ ]  实现关注商品功能 <mark>**$F \& \$B**</mark>；  

### 7.3 行为问题  

- [ ] 修复快速点击切换图片按钮，没有预期地在边界范围内移动的问题（*需添加节流阀，采用纯js程序控制动画*） <mark>**$F**</mark>；  
- [ ] 其他前端行为上的优化 <mark>**$F \& \$P**</mark>；  

### 7.4 内容问题  

- [ ] 将静态数据填充为动态 <mark>**$F \& \$B \& \$P**</mark>；

## 8. 伙伴/项目（`partner`）  

### 8.1 样式问题

- [ ] 进行防御式CSS编程，避免因语言切换或内容变化引起的排版混乱问题 <mark>**$F**</mark>；  

### 8.2 内容问题  

- [ ] 填充为动态内容<mark>**\$B \& \$P**</mark>；  

## 9. 环保/消除饥饿（`environmental`）

### 9.1 样式问题

- [ ] 进行防御式CSS编程，避免因语言切换或内容变化引起的排版混乱问题 <mark>**$F**</mark>；  

### 9.2 内容问题  

- [ ] 填充为动态内容<mark>**\$B \& \$P**</mark>；  

### 9.3 功能问题  

- [ ] 点击“**查看全文**”按钮，跳转至`news_detail`页面，并显示对应的文章 <mark>**$F \& \$B**</mark>；  

## 10. 新闻/博客（`news`）  

### 10.1 样式问题

- [ ] 进行防御式CSS编程，避免因语言切换或内容变化引起的排版混乱问题 <mark>**$F**</mark>；  

### 10.2 内容问题  

- [ ] 填充为动态内容及数据<mark>**\$B \& \$P**</mark>；  

### 10.3 功能问题  

- [ ] 点击“**马上查看**”按钮，将**列表内容**局部刷新为对应的分类，比如点击**博客转区**的**马上查看**按钮后，其下方的列表内容将**局部刷新**为与**博客专区**相关的内容；  
- [ ] 点击列表的某个链接后，跳转至`news_detail`页面，并显示对应的文章 <mark>**$F \& \$B**</mark>；  

### 10.4 待讨论问题

- [ ] 是否需为列表添加分页器（设计图中无分页器） <mark>**\$P \& \$B \& \$D \& \$F**</mark>；  

## 11. 文章详情（`news_detail`）  

### 11.1 内容问题  

- [ ] 填充为动态内容及数据（文章内容、发布时间、图片、作者等）<mark>**\$B \& \$P**</mark>；  

### 11.2 样式问题  

- [ ] 进行防御式CSS编程，避免因语言切换或内容变化引起的排版混乱问题 <mark>**$F**</mark>；  

## 12.  关于我们（`about`）  

### 12.1 内容问题   

- [ ] 填充为动态内容及数据（文章内容、发布时间、图片、作者等）<mark>**\$B \& \$P**</mark>；   

### 12.2 样式问题   

- [ ] 进行防御式CSS编程，避免因语言切换或内容变化引起的排版混乱问题 <mark>**$F**</mark>；   

## 13. 联系我们（`contact`）   

### 13.1 样式问题    

- [ ] 进行防御式CSS编程，避免因语言切换或内容变化引起的排版混乱问题 <mark>**$F**</mark>；  

### 13.2 功能问题  

- [ ] 实现收集**留言板**表单信息功能 <mark>**$F \& \$B**</mark>；    
- [ ] 点击各平台`icon`后实现跳转 <mark>**$F \& \$B \& \$P**</mark>；  

## 14. 资料下载（`database`）  

### 14.1 样式问题    

- [ ] 进行防御式CSS编程，避免因语言切换或内容变化引起的排版混乱问题 <mark>**$F**</mark>；  

### 14.2 功能问题  

*------该部分功能待讨论*

- [ ] 点击**在线预览**，跳转至`news_detail`页面，并显示具体的文章?  <mark>**$F \& \$B \& \$P**</mark>；  
- [ ] 点击**立即下载**，下载相应的`pdf`文件？ <mark>**$F \& \$B \& \$P**</mark> ；  

## 15. 其他问题

### 15.1 多语言翻译问题  

- [ ] 是否解决 <mark>**$F \& \$B \& \$P**</mark>  

机器翻译还是人为翻译？在页面翻译为英文后，默认就是英文的地方应该如何处理？

### 15.2 从右向左书写语言的布局问题

- [ ] 是否解决 <mark>**$F \& \$P**</mark>  

阿拉伯语或中东地区的其他语言习惯从右到左书写，是否需要改变**文字的书写方向**以及**排版方式**？书写方向处理起来相对容易，但由于涉及响应式开发，改变排版方式的难度非常高，需要重写很大一部分`css`代码。
















[^1]: 问题出在网站导航栏参数  
[^2]: 主要需调整水平居中、垂直居中问题以及优化屏幕宽度断点，进行防御式编程  
[^3]: 涉及多个环节，待讨论  
[^4]: 图片设计方提供多套、多组图片，在用户切换语言后，程序直接切换对应语言的*banner*图  
[^5]: 图片设计方仅提供一套图片，开发者将图上的文字通过程序写在页面上，用户切换语言后，由程序来更换文字   
[^6]: 仅能保证传统的尺寸断点及其附近较窄的尺寸区间内具有较好的布局排版效果，而无法保证`360px~1920px`间的任意尺寸均具备较好的布局排版效果  
[^7]: `barter`以及`cash`这两个页面隶属于`home`页，因此在预期上**顶部导航**的**首页**链接应当高亮展示  
[^8]: 在`1920px`的设计稿中，其两侧预留足够的空间（**安全空间**），在改变**视口宽度**时，页面内容本身的布局方式仅发生微小变化或无变化，而主要变化的是页面两侧的安全空间（被压缩）  
